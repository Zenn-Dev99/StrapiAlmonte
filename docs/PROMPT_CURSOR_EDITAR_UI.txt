โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐จ IMPLEMENTAR: Interfaz de Ediciรณn de Productos
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

OBJETIVO:
Crear una pรกgina de "Editar Producto" con interfaz grรกfica igual a "Agregar Producto",
que precargue los datos del producto y permita modificarlos.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
REQUERIMIENTOS FUNCIONALES:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. PRECARGA DE DATOS
   โ Al abrir /productos/editar/:id โ cargar producto desde Strapi
   โ Llenar todos los campos del formulario con los valores actuales
   โ Mostrar spinner mientras carga
   โ Manejar errores si el producto no existe

2. INTERFAZ
   โ Usar la MISMA estructura que "Agregar Producto"
   โ Mismos componentes visuales
   โ Todos los campos editables (excepto ISBN que es read-only)
   โ Botรณn "Guardar Cambios" en lugar de "Crear"
   โ Botรณn "Cancelar" que vuelva a la lista

3. ACTUALIZACIรN
   โ Al guardar โ PUT request a Strapi
   โ Solo enviar los campos que se modificaron (optimizaciรณn)
   โ Mensaje de รฉxito/error
   โ Redireccionar a lista despuรฉs de guardar

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ESTRUCTURA DE ARCHIVOS:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

src/
โโโ hooks/
โ   โโโ useProducto.js              # Hook para GET producto
โ   โโโ useActualizarProducto.js    # Hook para PUT actualizar
โโโ components/
โ   โโโ productos/
โ       โโโ FormularioProducto.jsx  # Componente reutilizable
โโโ pages/
    โโโ productos/
        โโโ agregar.jsx             # Ya existe
        โโโ editar/[id].jsx         # CREAR ESTA
        โโโ index.jsx               # Lista

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
IMPLEMENTACIรN:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. HOOK: useProducto.js
   Obtener producto desde Strapi con populate=*
   
   const { producto, loading, error } = useProducto(productoId);
   
   Endpoint: GET https://strapi.moraleja.cl/api/libros/:id?populate=*
   
   Normalizar datos para el formulario:
   - isbn_libro, nombre_libro, descripcion
   - precio, precio_oferta, stock
   - canales (array de IDs: [1, 2])
   - estado_publicacion
   - peso, dimensiones
   - rawWooData (si existe)

2. HOOK: useActualizarProducto.js
   Actualizar producto en Strapi
   
   const { actualizarProducto, loading, error } = useActualizarProducto();
   
   Endpoint: PUT https://strapi.moraleja.cl/api/libros/:id
   
   Payload:
   {
     "data": {
       "nombre_libro": "...",
       "precio": 49990,
       "canales": [1, 2],
       "rawWooData": {
         "name": "...",
         "description": "...",
         "regular_price": "49990.00",
         ...
       }
       // โ NO incluir externalIds (Strapi los preserva automรกticamente)
     }
   }

3. COMPONENTE: FormularioProducto.jsx
   Componente reutilizable para crear/editar
   
   Props:
   - valoresIniciales: {} // Para editar, llenar con datos del producto
   - onSubmit: (datos) => {}
   - loading: boolean
   - textoBoton: "Guardar" o "Guardar Cambios"
   - onCancelar: () => {}
   
   Campos:
   - ISBN (disabled si es ediciรณn)
   - Nombre del producto *
   - Descripciรณn
   - Precio * / Precio oferta
   - Stock
   - Peso, Largo, Ancho, Alto
   - Clase de envรญo
   - Estado de publicaciรณn *
   - Canales (checkboxes: Moraleja, Escolar) *

4. PรGINA: editar/[id].jsx
   
   import { useProducto } from '@/hooks/useProducto';
   import { useActualizarProducto } from '@/hooks/useActualizarProducto';
   import { FormularioProducto } from '@/components/productos/FormularioProducto';
   
   const { id } = useRouter().query; // O useParams() en React Router
   const { producto, loading, error } = useProducto(id);
   const { actualizarProducto, loading: actualizando } = useActualizarProducto();
   
   if (loading) return <Spinner />;
   if (error) return <Error />;
   
   return (
     <FormularioProducto
       valoresIniciales={producto}
       onSubmit={handleActualizar}
       loading={actualizando}
       textoBoton="Guardar Cambios"
       onCancelar={handleCancelar}
     />
   );

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
FLUJO COMPLETO:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Usuario โ Clic en "Editar" en producto
    โ
Navegar a /productos/editar/123
    โ
useProducto(123) โ GET /api/libros/123?populate=*
    โ
Mostrar spinner mientras carga
    โ
Llenar FormularioProducto con datos
    โ
Usuario modifica campos
    โ
Usuario clic "Guardar Cambios"
    โ
Validar formulario
    โ
actualizarProducto(123, datos) โ PUT /api/libros/123
    โ
Mostrar "โ Guardado exitosamente"
    โ
Redireccionar a /productos

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ESTILOS CSS:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Usar los MISMOS estilos que "Agregar Producto":
- Formulario con secciones
- Campos con labels
- Grid de 2 y 4 columnas para dimensiones
- Checkboxes para canales
- Botones primario/secundario
- Estados de loading y error
- Responsive

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
VALIDACIONES:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ Nombre del producto: requerido
โ Precio: requerido, > 0
โ Canales: al menos 1 seleccionado
โ Estado de publicaciรณn: requerido

Mostrar errores en rojo debajo de cada campo

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
IMPORTANTE:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. โ ISBN debe ser READ-ONLY (disabled) en ediciรณn
2. โ NO enviar externalIds โ Strapi los preserva automรกticamente
3. โ Sร enviar rawWooData para sincronizaciรณn completa con WooCommerce
4. โ Mostrar indicadores de carga (spinners)
5. โ Mantener la misma UX que "Agregar Producto"

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
EJEMPLO DE PAYLOAD DE ACTUALIZACIรN:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

{
  "data": {
    "nombre_libro": "Cรกlculo I - Editado",
    "precio": 59990,
    "descripcion": "Nueva descripciรณn",
    "estado_publicacion": "Publicado",
    "canales": [1, 2],
    "stock": 50,
    "rawWooData": {
      "name": "Cรกlculo I - Editado",
      "description": "Nueva descripciรณn completa en HTML",
      "short_description": "Nueva descripciรณn",
      "regular_price": "59990.00",
      "sale_price": "49990.00",
      "weight": "0.8",
      "dimensions": {
        "length": "25",
        "width": "18",
        "height": "3"
      },
      "shipping_class": "envio-rapido",
      "manage_stock": true,
      "stock_quantity": 50
    }
    // โ NO incluir externalIds
  }
}

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
PRUEBAS:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. โ Abrir producto existente โ campos precargados correctamente
2. โ Modificar nombre โ guardar โ verificar actualizaciรณn en Strapi
3. โ Modificar precio โ guardar โ verificar sincronizaciรณn en WooCommerce
4. โ Cambiar canales โ guardar โ verificar que se sincroniza a ambos
5. โ Intentar guardar sin nombre โ ver error de validaciรณn
6. โ Cancelar โ volver a lista sin guardar
7. โ Producto no existe (ID invรกlido) โ mostrar error

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
CรDIGO DE REFERENCIA COMPLETO:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

Ver archivo: docs/PROMPT_EDITAR_PRODUCTOS_UI.md
Contiene cรณdigo completo de:
- useProducto hook
- useActualizarProducto hook
- FormularioProducto component
- Pรกgina de ediciรณn
- Estilos CSS

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

POR FAVOR IMPLEMENTA ESTA FUNCIONALIDAD USANDO LA MISMA ESTRUCTURA
VISUAL Y COMPONENTES QUE "AGREGAR PRODUCTO".

El formulario debe verse IDรNTICO, pero con los datos precargados y
el botรณn que diga "Guardar Cambios" en lugar de "Crear Producto".

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

